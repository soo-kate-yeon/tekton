{
  "setup_timestamp": "2026-01-31T00:00:00Z",
  "setup_version": "1.0.0",
  "user": "soo-kate-yeon",
  "repository": "tekton",
  "status": {
    "overall": "PARTIAL_COMPLETE",
    "message": "GitHub CLI 재인증 필요"
  },
  "configuration_applied": {
    "git_credential_helper": {
      "status": "COMPLETE",
      "configured_value": "!/opt/homebrew/bin/gh auth git-credential",
      "fallback": "store",
      "timestamp": "2026-01-31T00:00:00Z"
    },
    "https_protocol": {
      "status": "COMPLETE",
      "description": "SSH에서 HTTPS로 변환됨",
      "old_url": "git@github.com:soo-kate-yeon/tekton.git",
      "new_url": "https://github.com/soo-kate-yeon/tekton.git",
      "timestamp": "2026-01-31T00:00:00Z"
    },
    "git_config": {
      "status": "COMPLETE",
      "settings": [
        {
          "key": "credential.helper",
          "values": ["!/opt/homebrew/bin/gh auth git-credential", "store"],
          "description": "GitHub CLI와 osxkeychain을 사용한 자격증명 저장소"
        },
        {
          "key": "push.default",
          "value": "simple",
          "description": "Push 기본 동작을 simple로 설정"
        },
        {
          "key": "url.https://github.com/.insteadOf",
          "value": "git://github.com/",
          "description": "git:// 프로토콜을 https://로 리다이렉트"
        },
        {
          "key": "credential.useHttpPath",
          "value": "true",
          "description": "경로별 자격증명 캐싱 활성화"
        }
      ]
    },
    "github_cli_auth": {
      "status": "PENDING",
      "reason": "웹 브라우저 기반 인증 필요",
      "required_scopes": ["repo", "workflow", "write:packages", "admin:public_key"],
      "current_scopes": ["admin:public_key", "gist", "read:org", "repo"],
      "missing_scopes": ["workflow", "write:packages"],
      "instruction": "gh auth login 명령을 통해 추가 스코프로 재인증"
    }
  },
  "required_next_steps": [
    {
      "step": 1,
      "title": "GitHub CLI 재인증",
      "command": "gh auth logout --hostname github.com && gh auth login --hostname github.com --git-protocol https --scopes repo,workflow,write:packages,admin:public_key --web",
      "expected_output": "GitHub 웹사이트의 인증 프롬프트 나타남",
      "verification": "gh auth status | grep -i 'logged in'"
    },
    {
      "step": 2,
      "title": "인증 검증",
      "command": "bash .moai/scripts/verify-git-auth.sh",
      "expected_output": "모든 검증 통과",
      "verification": "Exit code 0"
    },
    {
      "step": 3,
      "title": "자동화 워크플로우 테스트",
      "command": "git fetch origin && git pull origin master && gh pr list",
      "expected_output": "명령이 인증 프롬프트 없이 실행됨",
      "verification": "No authentication prompts"
    }
  ],
  "automation_scope": {
    "branch_creation": "READY",
    "commits": "READY",
    "push_operations": "REQUIRES_AUTH",
    "pr_creation": "REQUIRES_AUTH",
    "pr_merge": "REQUIRES_AUTH",
    "workflow_automation": "REQUIRES_AUTH"
  },
  "tools_verified": {
    "git": {
      "installed": true,
      "version": "2.49.0",
      "configuration": "APPLIED"
    },
    "github_cli": {
      "installed": true,
      "version": "2.86.0",
      "authenticated": false,
      "status": "NEEDS_REAUTH"
    },
    "credential_helper": {
      "type": "osxkeychain + GitHub CLI",
      "status": "CONFIGURED"
    },
    "ssh_keys": {
      "protocol": "HTTPS (no SSH needed)"
    }
  },
  "security_notes": [
    "토큰은 자동으로 macOS Keychain에 저장됩니다",
    ".env, *.key, .secrets 파일은 .gitignore에 추가하세요",
    "GitHub 웹사이트에서 정기적으로 액세스 로그를 확인하세요",
    "사용되지 않는 토큰은 GitHub에서 삭제하세요"
  ],
  "troubleshooting": {
    "auth_fails": "GitHub CLI 재인증 필요: gh auth logout --hostname github.com && gh auth login --hostname github.com --git-protocol https --scopes repo,workflow,write:packages,admin:public_key --web",
    "permission_denied": "git config --global credential.helper '!/opt/homebrew/bin/gh auth git-credential'",
    "token_expired": "gh auth refresh --scopes repo,workflow,write:packages,admin:public_key",
    "ssh_still_used": "git remote set-url origin https://github.com/soo-kate-yeon/tekton.git"
  },
  "documentation": {
    "setup_guide": "GITHUB_AUTH_SETUP.md",
    "verification_script": ".moai/scripts/verify-git-auth.sh",
    "status_file": ".moai/config/auth-setup-status.json"
  }
}
